---
import type { IconProps } from "../types/icons";
import {
  InstagramIcon,
  FacebookIcon,
  XIcon,
  SpotifyIcon,
  AppleMusicIcon,
  TidalIcon,
  WhatsappIcon,
  YoutubeIcon,
  EmailIcon,
  GlobeIcon,
} from "../icons";

interface Props {
  links: Record<string, string>;
  size?: number;
}

const { links, size = 22 }: Props = Astro.props;

const ICON_MAP: Record<string, any> = {
  instagram: InstagramIcon,
  facebook: FacebookIcon,
  x: XIcon,
  spotify: SpotifyIcon,
  applemusic: AppleMusicIcon,
  tidal: TidalIcon,
  whatsapp: WhatsappIcon,
  youtube: YoutubeIcon,
  email: EmailIcon,
  website: GlobeIcon,
};
---

<ul class="flex flex-wrap items-center gap-3">
  {
    Object.entries(links).map(([key, url]) => {
      const Icon = ICON_MAP[key.toLowerCase()];
      if (!Icon || !url) return null;
      return (
        <li>
          <a
            href={url}
            target="_blank"
            rel="noopener noreferrer"
            aria-label={key}
            class="inline-flex items-center justify-center
                 text-foreground/80 hover:text-primary transition"
          >
            <Icon size={size} />
          </a>
        </li>
      );
    })
  }
</ul>
